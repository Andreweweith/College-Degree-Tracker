-- MySQL Script generated by MySQL Workbench
-- 05/08/16 23:37:00
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema sain
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `sain` ;

-- -----------------------------------------------------
-- Schema sain
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `sain` DEFAULT CHARACTER SET utf8 ;
USE `sain` ;

-- -----------------------------------------------------
-- Table `sain`.`Departments`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sain`.`Departments` ;

CREATE TABLE IF NOT EXISTS `sain`.`Departments` (
  `deptId` CHAR(2) NOT NULL,
  `deptName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`deptId`),
  UNIQUE INDEX `deptId_UNIQUE` (`deptId` ASC),
  UNIQUE INDEX `deptName_UNIQUE` (`deptName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sain`.`Accounts`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sain`.`Accounts` ;

CREATE TABLE IF NOT EXISTS `sain`.`Accounts` (
  `id` INT(3) NOT NULL AUTO_INCREMENT,
  `accountType` VARCHAR(9) NOT NULL,
  `username` VARCHAR(25) NOT NULL,
  `password` VARCHAR(25) NOT NULL,
  `firstName` VARCHAR(25) NOT NULL,
  `lastName` VARCHAR(25) NOT NULL,
  `address` VARCHAR(60) NOT NULL,
  `phoneNumber` CHAR(10) NOT NULL,
  `deptId` CHAR(2) NOT NULL,
  `creationDate` DATETIME NULL DEFAULT CURRENT_TIMESTAMP(),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC),
  PRIMARY KEY (`id`),
  INDEX `accounts_deptId_idx` (`deptId` ASC),
  CONSTRAINT `accounts_deptId`
    FOREIGN KEY (`deptId`)
    REFERENCES `sain`.`Departments` (`deptId`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sain`.`Courses`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sain`.`Courses` ;

CREATE TABLE IF NOT EXISTS `sain`.`Courses` (
  `courseId` CHAR(3) NOT NULL,
  `deptId` CHAR(2) NOT NULL,
  `courseNumber` CHAR(3) NOT NULL,
  `title` VARCHAR(45) NOT NULL,
  `credits` CHAR(1) NOT NULL,
  PRIMARY KEY (`courseId`, `courseNumber`),
  UNIQUE INDEX `courseId_UNIQUE` (`courseId` ASC),
  UNIQUE INDEX `courseNumber_UNIQUE` (`courseNumber` ASC),
  INDEX `course_deptId_idx` (`deptId` ASC),
  CONSTRAINT `course_deptId`
    FOREIGN KEY (`deptId`)
    REFERENCES `sain`.`Departments` (`deptId`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sain`.`Enrollment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sain`.`Enrollment` ;

CREATE TABLE IF NOT EXISTS `sain`.`Enrollment` (
  `id` INT(3) NOT NULL,
  `deptId` CHAR(2) NOT NULL DEFAULT 'GS',
  `courseId` CHAR(3) NOT NULL,
  `courseNumber` CHAR(3) NOT NULL,
  `registerDate` DATETIME NULL DEFAULT CURRENT_TIMESTAMP(),
  `grade` VARCHAR(3) NOT NULL,
  INDEX `courseId_idx` (`courseId` ASC),
  INDEX `id_idx` (`id` ASC),
  INDEX `enroll_deptId_idx` (`deptId` ASC),
  CONSTRAINT `enroll_id`
    FOREIGN KEY (`id`)
    REFERENCES `sain`.`Accounts` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `enroll_courseId`
    FOREIGN KEY (`courseId`)
    REFERENCES `sain`.`Courses` (`courseId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `enroll_deptId`
    FOREIGN KEY (`deptId`)
    REFERENCES `sain`.`Departments` (`deptId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sain`.`Majors`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sain`.`Majors` ;

CREATE TABLE IF NOT EXISTS `sain`.`Majors` (
  `deptId` CHAR(2) NOT NULL,
  `courseNumber` CHAR(3) NULL,
  INDEX `deptId_idx` (`deptId` ASC),
  CONSTRAINT `major_courseNumber`
    FOREIGN KEY (`courseNumber`)
    REFERENCES `sain`.`Courses` (`courseNumber`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `major_deptId`
    FOREIGN KEY (`deptId`)
    REFERENCES `sain`.`Departments` (`deptId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `sain`.`Departments`
-- -----------------------------------------------------
START TRANSACTION;
USE `sain`;
INSERT INTO `sain`.`Departments` (`deptId`, `deptName`) VALUES ('AD', 'Administrator');
INSERT INTO `sain`.`Departments` (`deptId`, `deptName`) VALUES ('CS', 'Computer Science');
INSERT INTO `sain`.`Departments` (`deptId`, `deptName`) VALUES ('IT', 'Information Technology');
INSERT INTO `sain`.`Departments` (`deptId`, `deptName`) VALUES ('GS', 'General Studies');

COMMIT;


-- -----------------------------------------------------
-- Data for table `sain`.`Accounts`
-- -----------------------------------------------------
START TRANSACTION;
USE `sain`;
INSERT INTO `sain`.`Accounts` (`id`, `accountType`, `username`, `password`, `firstName`, `lastName`, `address`, `phoneNumber`, `deptId`, `creationDate`) VALUES (1, 'Admin', 'admin', 'admin', 'Andrew', 'Weith', '7 Admin Boulevard', '5555555555', 'AD', NULL);
INSERT INTO `sain`.`Accounts` (`id`, `accountType`, `username`, `password`, `firstName`, `lastName`, `address`, `phoneNumber`, `deptId`, `creationDate`) VALUES (2, 'Professor', 'professor', 'password', 'Bob', 'Smith', '5 Professor Lane', '5551234567', 'CS', NULL);
INSERT INTO `sain`.`Accounts` (`id`, `accountType`, `username`, `password`, `firstName`, `lastName`, `address`, `phoneNumber`, `deptId`, `creationDate`) VALUES (3, 'Student', 'student', 'password', 'Ryan', 'Reynolds', '4 Marvel Avenue', '5559876543', 'CS', NULL);
INSERT INTO `sain`.`Accounts` (`id`, `accountType`, `username`, `password`, `firstName`, `lastName`, `address`, `phoneNumber`, `deptId`, `creationDate`) VALUES (4, 'Student', 'jim', 'password', 'Jim', 'Halpert', '15 Scenic Drive', '5556969696', 'IT', NULL);
INSERT INTO `sain`.`Accounts` (`id`, `accountType`, `username`, `password`, `firstName`, `lastName`, `address`, `phoneNumber`, `deptId`, `creationDate`) VALUES (5, 'Student', 'steve', 'password', 'Steve', 'Rogers', '239 Marvel Avenue', '5551239876', 'GS', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `sain`.`Courses`
-- -----------------------------------------------------
START TRANSACTION;
USE `sain`;
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('111', 'CS', '120', 'Introduction to Java 1', '3');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('112', 'CS', '220', 'Introduction to Java 2', '3');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('113', 'CS', '320', 'Data Structures', '4');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('114', 'IT', '140', 'Introduction to IT 1', '3');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('115', 'IT', '240', 'Introduction to IT 2', '3');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('116', 'IT', '340', 'Databases', '4');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('117', 'GS', '100', '100 Level Elective', '1');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('118', 'GS', '200', '200 Level Elective', '2');
INSERT INTO `sain`.`Courses` (`courseId`, `deptId`, `courseNumber`, `title`, `credits`) VALUES ('119', 'GS', '300', '300 Level Elective', '3');

COMMIT;


-- -----------------------------------------------------
-- Data for table `sain`.`Enrollment`
-- -----------------------------------------------------
START TRANSACTION;
USE `sain`;
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (3, 'CS', '111', '120', NULL, '3.0');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (3, 'CS', '112', '220', NULL, '4.0');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (3, 'CS', '113', '320', NULL, 'IP');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (4, 'IT', '114', '140', NULL, '3.4');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (4, 'IT', '115', '240', NULL, 'IP');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (3, 'IT', '114', '140', NULL, '3.2');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (4, 'GS', '117', '100', NULL, '2.9');
INSERT INTO `sain`.`Enrollment` (`id`, `deptId`, `courseId`, `courseNumber`, `registerDate`, `grade`) VALUES (5, 'GS', '117', '100', NULL, 'IP');

COMMIT;


-- -----------------------------------------------------
-- Data for table `sain`.`Majors`
-- -----------------------------------------------------
START TRANSACTION;
USE `sain`;
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('CS', '120');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('CS', '220');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('CS', '320');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('IT', '140');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('IT', '240');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('IT', '340');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('GS', '100');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('GS', '200');
INSERT INTO `sain`.`Majors` (`deptId`, `courseNumber`) VALUES ('GS', '300');

COMMIT;

